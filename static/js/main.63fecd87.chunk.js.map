{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.module.css","components/Loader/Loader.jsx","components/Searchbar/Searchbar.jsx","components/services/api.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","App.js","index.js"],"names":["module","exports","Spinner","type","color","height","width","Searchbar","onSubmit","useState","pictureName","setPictureName","resetState","className","s","SearchForm","e","preventDefault","trim","alert","SearchFormButton","SearchFormButtonLabel","SearchFormInput","value","onChange","target","toLowerCase","autocomplete","autofocus","placeholder","getImages","page","a","axios","get","hits","data","ImageGalleryItem","image","onClick","webformatURL","tags","ImageGalleryItemImage","src","alt","ImageGallery","images","onSelect","map","id","Button","ButtonClick","modalRoot","document","querySelector","Modal","onCloseModal","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","Overlay","currentTarget","STATUS","App","searchPicture","setSearchPicture","setImages","setPage","status","setStatus","showModal","setShowModal","newPicture","length","toast","error","duration","prevImages","scrollTo","top","documentElement","scrollHeight","behavior","getFetchImages","handleSelectedImage","imageURL","p","largeImageURL","position","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,sBAAwB,kD,mBCAxGD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,YAAc,8B,mBCAhED,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,aAAe,qC,uCCAjCD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,qC,+KCIjOC,EAHC,WACd,OAAO,cAAC,IAAD,CAAQC,KAAK,OAAOC,MAAM,MAAMC,OAAQ,GAAIC,MAAO,M,gBC2C7CC,MA3Cf,YAAkC,IAAbC,EAAY,EAAZA,SACnB,EAAsCC,mBAAS,IAA/C,mBAAOC,EAAP,KAAoBC,EAApB,KAgBMC,EAAa,WACjBD,EAAe,KAIjB,OACE,wBAAQE,UAAWC,IAAEP,UAArB,SACE,uBAAMM,UAAWC,IAAEC,WAAYP,SAjBd,SAAAQ,GACnBA,EAAEC,iBACyB,KAAvBP,EAAYQ,QAIhBV,EAASE,GACTE,KAJEO,MAAM,iJAcN,UACE,wBAAQhB,KAAK,SAASU,UAAWC,IAAEM,iBAAnC,SACE,sBAAMP,UAAWC,IAAEO,sBAAnB,sBAGF,uBACER,UAAWC,IAAEQ,gBACbC,MAAOb,EACPc,SA7Ba,SAAAR,GACnBL,EAAeK,EAAES,OAAOF,MAAMG,gBA6BxBvB,KAAK,OACLwB,aAAa,MACbC,WAAS,EACTC,YAAY,mC,iBClCTC,EAAS,uCAAG,WAAOpB,EAAaqB,GAApB,iBAAAC,EAAA,sEACQC,IAAMC,IAAN,qCAAwCxB,EAAxC,iBAA4DqB,EAA5D,gBAHrB,qCAGqB,yDADR,uBACPI,EADO,EACdC,KAAOD,KADO,kBAGbA,GAHa,2CAAH,wD,iBCFP,SAASE,EAAT,GAA8C,IAAlBC,EAAiB,EAAjBA,MAAOC,EAAU,EAAVA,QAEvCC,EAAsBF,EAAtBE,aAAcC,EAAQH,EAARG,KACrB,OACG,oBAAI5B,UAAWC,IAAEuB,iBACdE,QAASA,EADZ,SAEA,qBACG1B,UAAWC,IAAE4B,sBACbC,IAAKH,EACLI,IAAKH,M,qBCCAI,EAVM,SAAC,GAAyB,IAAxBC,EAAuB,EAAvBA,OAAQC,EAAe,EAAfA,SAC3B,OACI,oBAAIlC,UAAWC,IAAE+B,aAAjB,SACKC,EAAOE,KAAI,SAACV,EAAMW,GAAP,OACR,cAACZ,EAAD,CAA6BC,MAAOA,EACpCC,QAAS,kBAAMQ,EAAST,KADCW,S,iBCM1BC,EAXA,SAAC,GAAiB,IAAfX,EAAc,EAAdA,QAChB,OACE,qBAAK1B,UAAWC,IAAEqC,YAAlB,SACE,wBAAQZ,QAASA,EAASpC,KAAK,SAASU,UAAWC,IAAEoC,OAArD,6B,iBCDAE,EAAYC,SAASC,cAAc,eAkC1BC,MAhCf,YAA4C,IAA3BZ,EAA0B,EAA1BA,IAAKC,EAAqB,EAArBA,IAAKY,EAAgB,EAAhBA,aAEzBC,qBAAU,WAER,OADAC,OAAOC,iBAAiB,UAAWC,GAC5B,WACLF,OAAOG,oBAAoB,UAAWD,OAI1C,IAAMA,EAAgB,SAAA5C,GACL,WAAXA,EAAE8C,MACJN,KASF,OAAOO,uBACL,mCACE,qBAAKlD,UAAWC,IAAEkD,QAASzB,QAPL,SAAAvB,GACtBA,EAAEiD,gBAAkBjD,EAAES,QACxB+B,KAKE,SACE,qBAAK3C,UAAWC,IAAEyC,MAAlB,SACE,qBAAKZ,IAAKA,EAAKC,IAAKA,UAI1BQ,I,gBCxBAc,EACE,OADFA,EAEK,UAFLA,EAII,WAGK,SAASC,IACtB,MAA0C1D,mBAAS,MAAnD,mBAAO2D,EAAP,KAAsBC,EAAtB,KACA,EAAsC5D,mBAAS,MAA/C,mBAAOC,EAAP,KAAoBC,EAApB,KACA,EAA4BF,mBAAS,IAArC,mBAAOqC,EAAP,KAAewB,EAAf,KACA,EAAwB7D,mBAAS,GAAjC,mBAAOsB,EAAP,KAAawC,EAAb,KACA,EAA4B9D,mBAASyD,GAArC,mBAAOM,EAAP,KAAeC,EAAf,KACA,EAAkChE,oBAAS,GAA3C,mBAAOiE,EAAP,KAAkBC,EAAlB,KAEAlB,qBAAU,WAAM,4CAEd,4BAAAzB,EAAA,sEAEIyC,EAAUP,GAFd,SAG6BpC,EAAUpB,EAAaqB,GAHpD,UAI8B,KADpB6C,EAHV,QAImBC,OAJnB,yCAKaC,IAAMC,MAAN,mHAAmCrE,EAAnC,4DAA4D,CAACsE,SAAU,OALpF,OAOIV,GAAU,SAAAW,GAAU,4BAAQA,GAAR,YAAuBL,OAE3ClB,OAAOwB,SAAS,CACdC,IAAK9B,SAAS+B,gBAAgBC,aAC9BC,SAAU,WAXhB,kDAcIb,EAAUP,GACVY,IAAMC,MAAM,SAfhB,yBAiBIN,EAAUP,GAjBd,8EAFc,sBACTxD,GADS,mCAsBd6E,KACC,CAACxD,EAAMrB,IAEV,IAUM8E,EAAsB,SAAAC,GAC1Bd,GAAcD,GACdL,EAAiBoB,IAGnB,OACE,gCACE,cAAC,EAAD,CAAWjF,SAjBU,SAAAE,GACvB6D,EAAQ,GACRD,EAAU,IACV3D,EAAeD,MAeZ8D,IAAWN,GACZ,qBAAKrD,UAAU,SAAf,SACI,cAAC,EAAD,MAEJ,cAAC,EAAD,CAAciC,OAAQA,EAAQC,SAAUyC,IACvC1C,EAAO+B,QAAU,IAAM,cAAC,EAAD,CAAQtC,QAjBb,WACrBgC,GAAQ,SAAAmB,GAAC,OAAIA,EAAI,QAiBdhB,GACC,cAAC,EAAD,CACE/B,IAAKyB,EAAcuB,cACnB/C,IAAKwB,EAAc3B,KACnBe,aAAcgC,IAGlB,cAAC,IAAD,CAASI,SAAS,iBC5ExBC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF1C,SAAS2C,eAAe,W","file":"static/js/main.63fecd87.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1t6H-\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2OMng\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__sqpiz\",\"ButtonClick\":\"Button_ButtonClick__qMgfw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__EypdX\",\"Modal\":\"Modal_Modal__39Mhg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2HJwB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1dRdy\",\"SearchForm\":\"Searchbar_SearchForm__258hF\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2COkf\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2Yo9o\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2AX3x\"};","import Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nconst Spinner = () => {\r\n  return <Loader type=\"Puff\" color=\"red\" height={90} width={90} />;\r\n};\r\nexport default Spinner;\r\n","import { useState } from 'react';\r\nimport s from './Searchbar.module.css';\r\n\r\nfunction Searchbar({ onSubmit }) {\r\n  const [pictureName, setPictureName] = useState('');\r\n\r\n  const handleChange = e => {\r\n    setPictureName(e.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (pictureName.trim() === '') {\r\n      alert('Введите название картинки');\r\n      return;\r\n    }\r\n    onSubmit(pictureName);\r\n    resetState();\r\n  };\r\n\r\n  const resetState = () => {\r\n    setPictureName('');\r\n  };\r\n\r\n\r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className={s.SearchFormButton}>\r\n          <span className={s.SearchFormButtonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={s.SearchFormInput}\r\n          value={pictureName}\r\n          onChange={handleChange}\r\n          type=\"text\"\r\n          autocomplete=\"off\"\r\n          autofocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Searchbar;\r\n"," \r\nimport axios from 'axios';\r\n\r\nconst API = '22683403-802ec757cc56aeed5d838f42d';\r\n\r\nexport const getImages = async (pictureName, page) => {\r\n    const {data: {hits}} = await axios.get(`https://pixabay.com/api/?q=${pictureName}&page=${page}&key=${API}&image_type=photo&orientation=horizontal&per_page=12`)\r\n  \r\n    return  hits;\r\n  }","\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nexport default function ImageGalleryItem ({image, onClick}) {\r\n\r\n    const {webformatURL, tags} = image;\r\n    return (\r\n       <li className={s.ImageGalleryItem} \r\n          onClick={onClick}>\r\n       <img \r\n          className={s.ImageGalleryItemImage} \r\n          src={webformatURL} \r\n          alt={tags}/>\r\n</li>\r\n)\r\n}","import ImageGalleryItem from 'components/ImageGalleryItem';\r\nimport s from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({images, onSelect}) =>  {\r\n    return (\r\n        <ul className={s.ImageGallery}>\r\n            {images.map((image,id) => (\r\n                <ImageGalleryItem key = {id} image={image} \r\n                onClick={() => onSelect(image)}\r\n                />)\r\n                )}  \r\n           </ul>)}\r\n             \r\nexport default ImageGallery;","import s from './Button.module.css';\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <div className={s.ButtonClick}>\r\n      <button onClick={onClick} type=\"button\" className={s.Button}>\r\n    Load more...\r\n  </button>\r\n  </div>\r\n    \r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import { useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from 'components/Modal/Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nfunction Modal({ src, alt, onCloseModal }) {\r\n  \r\n  useEffect(() => {\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n    }\r\n   });\r\n \r\n  const handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      onCloseModal();\r\n    }\r\n  };\r\n\r\n  const handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      onCloseModal();\r\n    }\r\n  };\r\n    return createPortal(\r\n      <>\r\n        <div className={s.Overlay} onClick={handleBackdropClick}>\r\n          <div className={s.Modal}>\r\n            <img src={src} alt={alt} />\r\n          </div>\r\n        </div>\r\n      </>,\r\n      modalRoot,\r\n    );\r\n  }\r\n\r\nexport default Modal;\r\n","import { useState, useEffect } from 'react';\nimport Spinner from 'components/Loader';\nimport Searchbar from 'components/Searchbar';\nimport { getImages } from 'components/services/api';\nimport ImageGallery from 'components/ImageGallery';\nimport Button from 'components/Button';\nimport Modal from 'components/Modal';\nimport './App.css';\nimport toast, { Toaster } from 'react-hot-toast';\n\nconst STATUS = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVE: 'resolved',\n  REJECT: 'rejected',\n};\n\nexport default function App() {\n  const [searchPicture, setSearchPicture] = useState(null);\n  const [pictureName, setPictureName] = useState(null);\n  const [images, setImages] = useState([]);\n  const [page, setPage] = useState(1);\n  const [status, setStatus] = useState(STATUS.IDLE);\n  const [showModal, setShowModal] = useState(false);\n\n  useEffect(() => {\n    if (!pictureName) return;\n    async function getFetchImages() {\n      try {\n        setStatus(STATUS.PENDING);\n        const newPicture = await getImages(pictureName, page);\n        if (newPicture.length === 0) {\n          return toast.error(`Картинки по запросу ${pictureName} не найдены`,{duration: 2000});\n        }\n        setImages(prevImages => [...prevImages, ...newPicture]);\n\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      } catch (error) {\n        setStatus(STATUS.REJECT)\n        toast.error('error');\n      } finally {\n        setStatus(STATUS.REJECT)\n      }\n    }\n    getFetchImages();\n  }, [page, pictureName]);\n\n  const handleFormSubmit = pictureName => {\n    setPage(1);\n    setImages([]);\n    setPictureName(pictureName);\n  };\n\n  const handleLoadMore = () => {\n    setPage(p => p + 1);\n  };\n\n  const handleSelectedImage = imageURL => {\n    setShowModal(!showModal);\n    setSearchPicture(imageURL);\n  };\n\n  return (\n    <div>\n      <Searchbar onSubmit={handleFormSubmit} />\n      {status === STATUS.PENDING && (\n      <div className='loader'>\n          <Spinner />\n        </div>)}\n      <ImageGallery images={images} onSelect={handleSelectedImage} />\n      {images.length >= 12 && <Button onClick={handleLoadMore} />}\n      {showModal && (\n        <Modal\n          src={searchPicture.largeImageURL}\n          alt={searchPicture.tags}\n          onCloseModal={handleSelectedImage}\n        />\n      )}\n      <Toaster position=\"top-right\"/>\n    </div>\n  );\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}